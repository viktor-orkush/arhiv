{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}" type="text/css" />
    <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<a href="/add" type="button" class="btn btn-primary btn-lg btn-block">Додати модуль</a>
<div class="form-group pull-right">
    <p style="margin-top:14px">Type something in the input field to search the table for first names, last names or emails:</p>
    <input class="form-control" id="myInput" type="text" placeholder="Search..">
</div>
<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Департамент</th>
      <th scope="col">Відповідальний за КБ</th>
      <th scope="col">Вхідна №</th>
      <th scope="col">Вхідна дата</th>
      <th scope="col">Відпрацював оф. ЦАБ </th>
    </tr>
  </thead>
  <tbody id="myTable">
    {% for sedoAllowance in sedoAllowances %}
        <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>{{ sedoAllowance.department.name}}</td>
            <td>{{ sedoAllowance.cyber_user.name}}</td>
            <td>{{ sedoAllowance.our_income_number }}</td>
            <td>{{ sedoAllowance.our_income_date}}</td>
            <td>{{ sedoAllowance.CAB_officer.name }}</td>
        </tr>

        {% for computer in computers %}
            {% ifequal sedoAllowance.id|stringformat:"s" computer.sedo_allowance|stringformat:"s" %}
                <tr>
                    <th></th>
{#                    <th scope="row">{{ forloop.counter }}</th>#}
                    <td>{{ computer.serial_number}}</td>
                    <td>{{ computer.type}}</td>
                </tr>
            {% endifequal %}
        {% endfor %}
    {% endfor %}

  </tbody>
</table>

</body>

<script>
$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>

</html>